<p style="text-align: unset; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">P2：时间控制在1分钟左右</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">大家好啊，我叫王苏霖，目前是一名北京邮电大学网络空间安全专业的研二学生，研究方向为隐私计算。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">在这两个月实习期间，我做了很多有意思的事</span><span style="color: black;font-size: 16pt;font-family: Calibri;">——</span><span style="color: black;font-size: 16pt;">包括，对鸿蒙内核漏洞的调研、以及用</span><span style="color: black;font-size: 16pt;font-family: Calibri;">mate50</span><span style="color: black;font-size: 16pt;">实现的健康生活</span><span style="color: black;font-size: 16pt;font-family: Calibri;">APP</span><span style="color: black;font-size: 16pt;">、又及用时下最热门的大语言模型，去对华为最保密的研究</span><span style="color: black;font-size: 16pt;font-family: Calibri;">--</span><span style="color: black;font-size: 16pt;">鸿蒙 当然，我没有这个权限，去对</span><span style="color: black;font-size: 16pt;font-family: Calibri;">linux</span><span style="color: black;font-size: 16pt;">做</span><span style="color: black;font-size: 16pt;font-family: Calibri;">AI</span><span style="color: black;font-size: 16pt;">增强的</span><span style="color: black;font-size: 16pt;font-family: Calibri;">fuzz</span><span style="color: black;font-size: 16pt;">结果分析。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">所以，在经历了近一个月的调研和培训过后，最后一个月主要是研究谷歌做的自动化</span><span style="color: black;font-size: 16pt;font-family: Calibri;">fuzz</span><span style="color: black;font-size: 16pt;">平台</span><span style="color: black;font-size: 16pt;font-family: Calibri;">syzkaller</span><span style="color: black;font-size: 16pt;">，再增强它的部分功能，为未来鸿蒙适配并增强</span><span style="color: black;font-size: 16pt;font-family: Calibri;">syzkaller</span><span style="color: black;font-size: 16pt;">探探路。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">不过这些都是后话，先来看看前话。</span></p>

<p style="text-align: left; font-family: SimSun; font-size: 16px;"><br /></p>

<p style="text-align: left; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;">P3：<span style="color: black;font-size: 16pt;">参加菁英班培训是这段实习中很特别的支线，有很多专家老师带领我们实习生领略鸿蒙生态，从整体的设计理念到具体的技术讲解，从理论到最后的实践，我也成功为小组实现了成就管理，在大家的共同努力下，最终我们组荣获了实战考核第二名的佳绩。右侧是部分我的核心代码和我们的项目链接，下面为大家演示下我实现的部分的运行效果，超量完成</span><span style="color: black;font-size: 16pt;font-family: Calibri;">200%</span><span style="color: black;font-size: 16pt;">和</span><span style="color: black;font-size: 16pt;font-family: Calibri;">400%</span><span style="color: black;font-size: 16pt;">都会有成就弹窗，当超量完成</span><span style="color: black;font-size: 16pt;font-family: Calibri;">400%</span><span style="color: black;font-size: 16pt;">后，反复的弹窗会削弱成就奖励带来的满足感，直到，超量</span><span style="color: black;font-size: 16pt;font-family: Calibri;">1000%</span><span style="color: black;font-size: 16pt;">，会有隐藏成就达成，为用户体验增添惊喜感</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16pt;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: 16pt; font-size: 16pt;"><span style="color: black;font-size: 16pt;font-family: 16pt;">P4：</span><span style="color: black;font-size: 16pt;">现在回到主线。在培训前后，我共花了两周时间对系统内核</span><span style="color: black;font-size: 16pt;font-family: Calibri;">Fuzz</span><span style="color: black;font-size: 16pt;">的背景知识进行了详尽的调研，具体分为三大板块：</span><span style="color: black;font-size: 16pt;font-weight: bold;"><b>鸿蒙内核</b></span><span style="color: black;font-size: 16pt;">漏洞类型、主动挖掘技术、挖掘后的分析方法，整理文档总计</span><span style="color: black;font-size: 16pt;font-family: Calibri;">27</span><span style="color: black;font-size: 16pt;">份，并纳入组内</span><span style="color: black;font-size: 16pt;font-family: Calibri;">wiki</span><span style="color: black;font-size: 16pt;">库。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">左图是调研过程中的整理文档，而调研的目的，是为了理解右图的</span><span style="color: black;font-size: 16pt;font-family: Calibri;">syzkaller</span><span style="color: black;font-size: 16pt;">架构是如何进行的漏洞挖掘和分析，更重要的是，我能用</span><span style="color: black;font-size: 16pt;font-family: Calibri;">LLM</span><span style="color: black;font-size: 16pt;">为架构中的哪个板块赋能。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16pt;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: 16pt; font-size: 16pt;"><span style="color: black;font-size: 16pt;font-family: 16pt;">P5：而</span><span style="color: black;font-size: 16pt;">截至今天，创建的</span><span style="color: black;font-size: 16pt;font-family: Calibri;">wiki</span><span style="color: black;font-size: 16pt;">文档已在组内获得</span><span style="color: black;font-size: 16pt;font-family: Calibri;">204</span><span style="color: black;font-size: 16pt;">次的阅读数，整体贡献榜在组内排名第三。右下图是我的文档特点，以表格导读、综述概览、单模块详解并都附有参考文献。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16pt;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16pt;"><span style="color: black;font-size: 16pt;">P6：</span><span style="color: black;font-size: 16pt;">在明晰了背景知识，以及和组内专家讨论后，我打算利用</span><span style="color: black;font-size: 16pt;font-family: Calibri;">LLM</span><span style="color: black;font-size: 16pt;">为</span><span style="color: black;font-size: 16pt;font-family: Calibri;">syz-manager</span><span style="color: black;font-size: 16pt;">模块中的panic日志解析赋能。那什么是</span><span style="color: rgb(68, 84, 106);font-size: 16pt;font-weight: bold;"><b>Panic</b></span><span style="color: rgb(68, 84, 106);font-size: 16pt;font-family: Microsoft YaHei;font-weight: bold;"><b>日志：</b></span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;">...</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: rgb(68, 84, 106);font-size: 16pt;font-family: Microsoft YaHei;font-weight: bold;"><b>为何要解析？为了</b></span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;">识别漏洞类型；找到具体问题代码行；判断安全风险和优先级；并跟踪内核质量变化</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;font-family: 微软雅黑;">最终，解析成人类可读的以及机器可读的报告，便于开发者展开异常处理</span><span style="color: black;font-size: 16pt;">。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16pt;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: 16pt; font-size: 16pt;"><span style="color: black;font-size: 16pt;font-family: 16pt;">P7：</span><span style="color: black;font-size: 16pt;">于是我接着调研了</span><span style="color: black;font-size: 16pt;font-family: Calibri;">Syzkaller</span><span style="color: black;font-size: 16pt;">自带的基于规则的解析方法。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">它通过正则表达式解析日志，得到行业标准化的日志报告，这种基于规则的方法好处在于输出稳定且运行成本极低，但劣势也很明显，当切换系统时，现有规则就难复用了，新漏洞模式就可能漏报了，维护成本也就高了。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">而正好，大语言模型可以解决这种</span><span style="color: rgb(51, 51, 51);font-size: 16pt;font-family: 微软雅黑;">新漏洞模式漏报、</span><span style="color: black;font-size: 16pt;">跨平台难复用、维护成本又高的问题。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">它可以基于提示词直接生成我们想要的风格的报告，但它容易胡说八道也就是产生幻觉，且输出也不稳定，最重要的是每次对话都有长度限制，只能一条一条的对话分析。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">如果我们将二者的优劣势相互弥补呢？那么理论上我们可以实现可靠、低成本、准确、强泛化、跨平台且便于维护的</span><span style="color: black;font-size: 16pt;font-family: Calibri;">panic</span><span style="color: black;font-size: 16pt;">解析方案</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">为此，我设计了一种</span><span style="color: black;font-size: 16pt;font-family: Calibri;">LLM+syzkaller</span><span style="color: black;font-size: 16pt;">的混合模式，并在测试了对日志逐批次解析和逐行解析的性能差异后，最终实现了</span><span style="color: rgb(68, 114, 196);font-size: 16pt;font-weight: bold;"><b>LLM</b></span><span style="color: rgb(68, 114, 196);font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>增强的逐批次</b></span><span style="color: rgb(68, 114, 196);font-size: 16pt;font-weight: bold;"><b>Panic</b></span><span style="color: rgb(68, 114, 196);font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>日志解析方案、</b></span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: 微软雅黑; font-size: 16pt;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: 微软雅黑; font-size: 16pt;"><span style="color: rgb(68, 114, 196);font-size: 16pt;font-family: 微软雅黑;"><b>P8：</b></span><span style="color: black;font-size: 16pt;">由于大语言模型已解决了syzkaller的三大缺点</span><span style="color: rgb(51, 51, 51);font-size: 16pt;font-family: 微软雅黑;">，因此，如何弥补大语言模型自身的缺点才是方案的重点：</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">为了弥补</span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>运行成本高</b></span><span style="color: black;font-size: 16pt;font-weight: bold;"> </span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: normal;">的问题，我将日志按照锚点进行分块，锚点是作为标准化报告的核心字段，然后对分块后的日志进行并行处理就能得到一个整体的提示词，然后将提示词输入大语言模型中，去生成我们想要的报告</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: 微软雅黑; font-size: 16pt;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: 微软雅黑; font-size: 16pt;"><span style="color: black;font-size: 16pt;font-family: 微软雅黑;">P9：</span><span style="color: black;font-size: 16pt;">接着，为了弥补</span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>输出不稳定、产生幻觉</b></span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: normal;">的问题，</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">我通过</span><span style="color: black;font-size: 16pt;font-family: Calibri;">In-context learning</span><span style="color: black;font-size: 16pt;">让</span><span style="color: black;font-size: 16pt;font-family: Calibri;">LLM</span><span style="color: black;font-size: 16pt;">无需训练 即可稳定输出</span><span style="color: black;font-size: 16pt;font-family: Calibri;">syzkaller</span><span style="color: black;font-size: 16pt;">风格的日志报告，且不捏造事实；此外，还增加</span><span style="color: rgb(68, 84, 106);font-size: 16pt;font-weight: bold;"><b>Chain-of-Thought</b></span><span style="color: black;font-size: 16pt;">策略，让大语言模型按照给定的</span><span style="color: rgb(87, 96, 106);font-size: 16pt;font-weight: normal;">推理步骤，</span><span style="color: black;font-size: 16pt;">对整个日志报告进行解释，增强日志报告的人类可读性；</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16pt;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: 16pt; font-size: 16pt;"><span style="color: black;font-size: 16pt;font-family: 16pt;">P10：</span><span style="color: black;font-size: 16pt;">将上述策略合并后，就得到了我的整体方案架构。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">一个能处理大批量实时日志的 </span><span style="color: black;font-size: 16pt;font-family: Calibri;">LLM</span><span style="color: black;font-size: 16pt;">增强的</span><span style="color: rgb(192, 0, 0);font-size: 16pt;">Panic</span><span style="color: rgb(192, 0, 0);font-size: 16pt;font-family: 黑体;">日志解析器。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;">不仅能生成基本满足行业标准的异常报告，还能基于</span><span style="color: black;font-size: 16pt;font-family: Calibri;">chLLMn-of-thought </span><span style="color: black;font-size: 16pt;">生成报告的解释</span><span style="color: black;font-size: 16pt;font-family: Calibri;">. </span><span style="color: rgb(51, 51, 51);font-size: 16pt;font-family: 微软雅黑;">从而实现：</span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>可靠</b></span><span style="color: black;font-size: 16pt;font-weight: bold;"> </span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>低成本</b></span><span style="color: black;font-size: 16pt;font-weight: bold;"> </span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>准确</b></span><span style="color: black;font-size: 16pt;font-weight: bold;"> </span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>强泛化</b></span><span style="color: black;font-size: 16pt;font-weight: bold;"> </span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>跨平台</b></span><span style="color: black;font-size: 16pt;font-weight: bold;"> </span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>便于维护的</b></span><span style="color: black;font-size: 16pt;font-weight: bold;"><b>panic</b></span><span style="color: black;font-size: 16pt;font-family: 微软雅黑;font-weight: bold;"><b>日志解析器</b></span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;">P11：<span style="color: black;font-size: 16pt;">这是</span><span style="color: rgb(192, 0, 0);font-size: 16pt;font-family: 黑体;">最终方案的解析报告，在方案自动预处理好日志后，只需要对</span><span style="color: rgb(192, 0, 0);font-size: 16pt;">Prompt</span><span style="color: rgb(192, 0, 0);font-size: 16pt;font-family: 黑体;">文件中进行详细的定义，包括</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16px;"><span style="color: black;font-size: 16pt;font-weight: bold;"><b>对角色的定义 → 严格约束某些内容 → 结构化输出 → 不允许做什么的指令 → 和输出顺序</b></span><span style="color: black;font-size: 16pt;font-family: Microsoft YaHei;font-weight: normal;">，然后就可以得到解析后的报告了。</span></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: Microsoft YaHei; font-size: 16pt;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: Microsoft YaHei; font-size: 16pt;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: SimSun; font-size: 16pt;"><br /></p>

<p style="text-align: left; line-height: 1.375; margin-top: 0pt; margin-bottom: 0pt; font-family: 16pt; font-size: 16pt;"><br /></p>
